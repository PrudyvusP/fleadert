2020-11-08 11:45:08,925 ERROR: Exception on /my_tasks/chief/ [GET] [in /home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py:1892]
Traceback (most recent call last):
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/flask_login/utils.py", line 272, in decorated_view
    return func(*args, **kwargs)
  File "/home/ppa/PycharmProjects/fleadert/app/main/routes.py", line 65, in render_tasks_list
    fig2 = io.to_html(fig, include_plotlyjs=False, full_html=False)
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/plotly/io/_html.py", line 131, in to_html
    fig_dict = validate_coerce_fig_to_dict(fig, validate)
  File "/home/ppa/PycharmProjects/fleadert/venv/lib/python3.6/site-packages/plotly/io/_utils.py", line 23, in validate_coerce_fig_to_dict
    typ=type(fig), v=fig
ValueError: 
The fig parameter must be a dict or Figure.
    Received value of type <class 'str'>: <div>                            <div id="881a4bd8-30fd-4f8a-aad0-c795a3455e76" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("881a4bd8-30fd-4f8a-aad0-c795a3455e76")) {                    Plotly.newPlot(                        "881a4bd8-30fd-4f8a-aad0-c795a3455e76",                        [{"fill": "toself", "fillcolor": "rgb(255, 127, 14)", "hoverinfo": "name", "legendgroup": "rgb(255, 127, 14)", "marker": {"opacity": 0.4}, "mode": "none", "name": "ppa", "showlegend": true, "type": "scatter", "x": ["2020-11-08T08:07:14.673999", "2020-11-08T08:12:00", "2020-11-08T08:12:00", "2020-11-08T08:07:14.673999", "2020-11-08T08:07:14.673999", "2020-11-08T08:32:37.143692", "2020-11-10T08:32:00", "2020-11-10T08:32:00", "2020-11-08T08:32:37.143692"], "y": [5.8, 5.8, 6.2, 6.2, null, 3.8, 3.8, 4.2, 4.2]}, {"fill": "toself", "fillcolor": "rgb(31, 119, 180)", "hoverinfo": "name", "legendgroup": "rgb(31, 119, 180)", "marker": {"opacity": 0.4}, "mode": "none", "name": "amg", "showlegend": true, "type": "scatter", "x": ["2020-11-07T11:00:22.037247", "2020-11-07T13:49:00", "2020-11-07T13:49:00", "2020-11-07T11:00:22.037247", "2020-11-07T11:00:22.037247", "2020-11-07T11:06:32.133519", "2020-11-08T11:06:00", "2020-11-08T11:06:00", "2020-11-07T11:06:32.133519", "2020-11-07T11:06:32.133519", "2020-11-08T04:34:38.837765", "2020-11-09T04:34:00", "2020-11-09T04:34:00", "2020-11-08T04:34:38.837765", "2020-11-08T04:34:38.837765", "2020-11-08T06:13:42.487902", "2020-11-12T06:13:00", "2020-11-12T06:13:00", "2020-11-08T06:13:42.487902"], "y": [6.8, 6.8, 7.2, 7.2, null, 3.8, 3.8, 4.2, 4.2, null, 2.8, 2.8, 3.2, 3.2, null, -0.2, -0.2, 0.2, 0.2]}, {"fill": "toself", "fillcolor": "rgb(44, 160, 44)", "hoverinfo": "name", "legendgroup": "rgb(44, 160, 44)", "marker": {"opacity": 0.4}, "mode": "none", "name": "prudyvusp", "showlegend": true, "type": "scatter", "x": ["2020-11-07T11:00:22.037247", "2020-11-07T13:49:00", "2020-11-07T13:49:00", "2020-11-07T11:00:22.037247", "2020-11-07T11:00:22.037247", "2020-11-07T11:01:07.960400", "2020-11-08T11:01:00", "2020-11-08T11:01:00", "2020-11-07T11:01:07.960400", "2020-11-07T11:01:07.960400", "2020-11-07T11:06:32.133519", "2020-11-08T11:06:00", "2020-11-08T11:06:00", "2020-11-07T11:06:32.133519", "2020-11-07T11:06:32.133519", "2020-11-08T05:19:16.037502", "2020-11-09T05:19:00", "2020-11-09T05:19:00", "2020-11-08T05:19:16.037502", "2020-11-08T05:19:16.037502", "2020-11-08T05:30:08.651322", "2020-11-09T05:30:00", "2020-11-09T05:30:00", "2020-11-08T05:30:08.651322", "2020-11-08T05:30:08.651322", "2020-11-08T06:13:42.487902", "2020-11-12T06:13:00", "2020-11-12T06:13:00", "2020-11-08T06:13:42.487902"], "y": [6.8, 6.8, 7.2, 7.2, null, 4.8, 4.8, 5.2, 5.2, null, 3.8, 3.8, 4.2, 4.2, null, 1.8, 1.8, 2.2, 2.2, null, 0.8, 0.8, 1.2, 1.2, null, -0.2, -0.2, 0.2, 0.2]}, {"legendgroup": "rgb(255, 127, 14)", "marker": {"opacity": 0.4}, "mode": "markers", "name": "", "showlegend": false, "text": [null, null, null, null], "type": "scatter", "x": ["2020-11-08T08:07:14.673999", "2020-11-08T08:12:00", "2020-11-08T08:32:37.143692", "2020-11-10T08:32:00"], "y": [6, 6, 4, 4]}, {"legendgroup": "rgb(31, 119, 180)", "marker": {"opacity": 0.4}, "mode": "markers", "name": "", "showlegend": false, "text": [null, null, null, null, null, null, null, null], "type": "scatter", "x": ["2020-11-07T11:00:22.037247", "2020-11-07T13:49:00", "2020-11-07T11:06:32.133519", "2020-11-08T11:06:00", "2020-11-08T04:34:38.837765", "2020-11-09T04:34:00", "2020-11-08T06:13:42.487902", "2020-11-12T06:13:00"], "y": [7, 7, 4, 4, 3, 3, 0, 0]}, {"legendgroup": "rgb(44, 160, 44)", "marker": {"opacity": 0.4}, "mode": "markers", "name": "", "showlegend": false, "text": [null, null, null, null, null, null, null, null, null, null, null, null], "type": "scatter", "x": ["2020-11-07T11:00:22.037247", "2020-11-07T13:49:00", "2020-11-07T11:01:07.960400", "2020-11-08T11:01:00", "2020-11-07T11:06:32.133519", "2020-11-08T11:06:00", "2020-11-08T05:19:16.037502", "2020-11-09T05:19:00", "2020-11-08T05:30:08.651322", "2020-11-09T05:30:00", "2020-11-08T06:13:42.487902", "2020-11-12T06:13:00"], "y": [7, 7, 5, 5, 4, 4, 2, 2, 1, 1, 0, 0]}],                        {"height": 600, "hovermode": "closest", "showlegend": true, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "white", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "white", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "#C8D4E3", "linecolor": "#C8D4E3", "minorgridcolor": "#C8D4E3", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "white", "showlakes": true, "showland": true, "subunitcolor": "#C8D4E3"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "white", "polar": {"angularaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}, "bgcolor": "white", "radialaxis": {"gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "yaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}, "zaxis": {"backgroundcolor": "white", "gridcolor": "#DFE8F3", "gridwidth": 2, "linecolor": "#EBF0F8", "showbackground": true, "ticks": "", "zerolinecolor": "#EBF0F8"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "baxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}, "bgcolor": "white", "caxis": {"gridcolor": "#DFE8F3", "linecolor": "#A2B1C6", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "#EBF0F8", "linecolor": "#EBF0F8", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "#EBF0F8", "zerolinewidth": 2}}}, "title": {"font": {"size": 24}, "text": "\u0414\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430 \u0413\u0430\u043d\u0442\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"}, "xaxis": {"rangeselector": {"buttons": [{"count": 7, "label": "1w", "step": "day", "stepmode": "backward"}, {"count": 1, "label": "1m", "step": "month", "stepmode": "backward"}, {"count": 6, "label": "6m", "step": "month", "stepmode": "backward"}, {"count": 1, "label": "YTD", "step": "year", "stepmode": "todate"}, {"count": 1, "label": "1y", "step": "year", "stepmode": "backward"}, {"step": "all"}]}, "showgrid": false, "type": "date", "zeroline": false}, "yaxis": {"autorange": "reversed", "range": [-1, 9], "showgrid": true, "ticktext": ["\u0422\u0415\u0421\u0422\u041e", "\u041a\u043e\u043d\u0434\u0440\u0430\u0442\u0438\u0439", "\u041c\u0430\u0440\u0442\u0430", "Stack me", "\u041a\u0443\u043d\u0434\u0430\u043b\u0438\u043d\u0438", "SSSSS", "Rofel", "\u0424\u0443\u0442\u0431\u043e\u043b\u044c\u0447\u0438\u043a"], "tickvals": [0, 1, 2, 3, 4, 5, 6, 7], "zeroline": false}},                        {"responsive": true}                    )                };                            </script>        </div>
